(self.webpackChunkeasy_hooks=self.webpackChunkeasy_hooks||[]).push([[625],{5978:(e,i,t)=>{"use strict";t.d(i,{A:()=>c});var n=t(6222),r=t(6540),s=t(1493);const o=function(){var e=(0,n._)((0,s.A)("visible"===window.document.visibilityState),3),i=e[0],t=e[1],o=e[2];return(0,r.useEffect)((function(){return window.document.addEventListener("visibilitychange",(function(){t("visible"===window.document.visibilityState)})),function(){window.document.removeEventListener("visibilitychange",(function(){t("visible"===window.document.visibilityState)}))}}),[]),[i,o]};var u=t(2497),a=t.n(u),l=t(757).A;function c(){var e=o(0),i=e[0],t=(e[1],(0,r.useState)(0)),n=t[0],s=t[1];return(0,r.useEffect)((function(){i||s((function(e){return e+1}))}),[i]),l("div",{className:a().usageContainer},"\u9875\u9762\u5f53\u524d\u72b6\u6001: ",i?"\u53ef\u89c1":"\u4e0d\u53ef\u89c1",l("br",null),"\u9875\u9762\u88ab\u9690\u85cf\u7684\u6b21\u6570:",n)}},1493:(e,i,t)=>{"use strict";t.d(i,{A:()=>s});var n=t(6222),r=t(6540);const s=function(e){var i=(0,n._)((0,r.useState)(e),2),t=i[0],s=i[1],o=(0,r.useRef)(e),u=(0,r.useCallback)((function(){return o.current}),[]);return[t,(0,r.useCallback)((function(e){if("function"==typeof e){var i=e(u());return o.current=i,void s(i)}var t=e;o.current=t,s(t)}),[]),u]}},1239:(e,i,t)=>{"use strict";t.r(i),t.d(i,{assets:()=>f,contentTitle:()=>d,default:()=>g,frontMatter:()=>c,metadata:()=>y,toc:()=>b});var n,r=t(8168),s=t(8587),o=(t(6540),t(7986)),u=t(5571),a=t(2879),l=["components"],c={title:"usePageVisibility",sidebar_label:"usePageVisibility"},d=void 0,y={unversionedId:"usePageVisibility/index",id:"usePageVisibility/index",title:"usePageVisibility",description:"usePageVisibility \u9875\u9762\u53ef\u89c1\u6027\u7684\u94a9\u5b50",source:"@site/docs/usePageVisibility/index.md",sourceDirName:"usePageVisibility",slug:"/usePageVisibility/",permalink:"/easyHooks/usePageVisibility/",draft:!1,tags:[],version:"current",frontMatter:{title:"usePageVisibility",sidebar_label:"usePageVisibility"},sidebar:"defaultSidebar",previous:{title:"useMount",permalink:"/easyHooks/useMount/"},next:{title:"useUnmount",permalink:"/easyHooks/useUnmount/"}},f={},b=[],m=(n="IcePkgDemo_docs_usePageVisibility_index_0",{toc:b}),v="wrapper";function g(e){var i=e.components,n=(0,s.A)(e,l);return(0,o.yg)(v,(0,r.A)({},m,n,{components:i,mdxType:"MDXLayout"}),(0,o.yg)("p",null,"usePageVisibility \u9875\u9762\u53ef\u89c1\u6027\u7684\u94a9\u5b50"),(0,o.yg)(a.A,{code:"import { usePageVisibility } from 'easy-hooks';\nimport { useState,useEffect } from \"react\";\nimport styles from './index.module.less';\n// import noop from './usage.js';\n\nexport default function App () {\n    const [visible, getVisible]  = usePageVisibility(0);\n    const [hiddenNum, setHiddenNum]  = useState(0);\n    useEffect(()=>{\n      if(!visible)setHiddenNum((old)=>old+1)\n    },[visible])\n  return (\n    <div className={styles.usageContainer}>\n        \u9875\u9762\u5f53\u524d\u72b6\u6001: {visible?\"\u53ef\u89c1\":\"\u4e0d\u53ef\u89c1\"}<br/>\n        \u9875\u9762\u88ab\u9690\u85cf\u7684\u6b21\u6570:{hiddenNum}\n    </div>\n  )\n}",mobilePreview:!1,url:"/easyHooks/demos/IcePkgDemo_docs_usePageVisibility_index_0/?",mdxType:"Previewer"},(0,o.yg)(u.A,{mdxType:"BrowserOnly"},(function(){var e=t(5978).A;return(0,o.yg)(e,{mdxType:"IcePkgDemo_docs_usePageVisibility_index_0"})}))))}g.isMDXComponent=!0},2497:e=>{e.exports={}},6222:(e,i,t)=>{"use strict";function n(e,i){(null==i||i>e.length)&&(i=e.length);for(var t=0,n=new Array(i);t<i;t++)n[t]=e[t];return n}function r(e,i){return function(e){if(Array.isArray(e))return e}(e)||function(e,i){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,s=[],o=!0,u=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(s.push(n.value),!i||s.length!==i);o=!0);}catch(a){u=!0,r=a}finally{try{o||null==t.return||t.return()}finally{if(u)throw r}}return s}}(e,i)||function(e,i){if(e){if("string"==typeof e)return n(e,i);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,i):void 0}}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.d(i,{_:()=>r})}}]);