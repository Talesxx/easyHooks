(self.webpackChunkeasy_hooks=self.webpackChunkeasy_hooks||[]).push([[871],{5749:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(1493),s=n(8317),a=(n(6540),n(6995)),r=n.n(a),u=n(757).A;function i(){var e=(0,o.A)(0),t=e[0],n=e[1],a=e[2];return(0,s.A)((function(){setInterval((function(){n(a()+1)}),1e3)})),u("div",{className:r().usageContainer},"state: ",t)}},784:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(1493),s=n(8317),a=n(6540),r=n(6995),u=n.n(r),i=n(757).A;function l(){var e=(0,o.A)(0),t=e[0],n=e[1],r=e[2],l=(0,a.useState)(""),c=l[0],d=l[1],S=(0,a.useState)(""),g=S[0],m=S[1];return(0,s.A)((function(){setTimeout((function(){n(r()+1),d(r()),setTimeout((function(){n(r()+1),m(r())}),1e3)}),1e3)})),i("div",{className:u().usageContainer},"state: ",t,i("br",null),"\u7b49\u5f851\u79d2",i("br",null),"\u7b2c\u4e00\u6b21\u4fee\u6539\u540e\u7acb\u5373getState\u83b7\u53d6\u5230\u7684\u503c ",c,i("br",null),"\u518d\u7b49\u5f851\u79d2",i("br",null),"\u7b2c\u4e8c\u6b21\u4fee\u6539\u540e\u7acb\u5373getState\u83b7\u53d6\u5230\u7684\u503c ",g,i("br",null))}},1099:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(1493),s=n(8317),a=(n(6540),n(6995)),r=n.n(a),u=n(757).A;function i(){var e=(0,o.A)(0),t=e[0],n=e[1];e[2];return(0,s.A)((function(){setInterval((function(){n((function(e){return e+1}))}),1e3)})),u("div",{className:r().usageContainer},"state: ",t)}},1493:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n(6222),s=n(6540);const a=function(e){var t=(0,o._)((0,s.useState)(e),2),n=t[0],a=t[1],r=(0,s.useRef)(e),u=(0,s.useCallback)((function(){return r.current}),[]);return[n,(0,s.useCallback)((function(e){if("function"==typeof e){var t=e(u());return r.current=t,void a(t)}var n=e;r.current=n,a(n)}),[]),u]}},8317:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(6540);const s=function(e){(0,o.useEffect)((function(){e&&e()}),[])}},8733:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>S,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>d,toc:()=>g});var o=n(8168),s=n(8587),a=(n(6540),n(7986)),r=n(5571),u=n(2879),i=["components"],l={title:"useGetNowState",sidebar_label:"useGetNowState"},c=void 0,d={unversionedId:"useGetNowState/index",id:"useGetNowState/index",title:"useGetNowState",description:"useGetNowState \u5728\u5b9a\u65f6\u5668\u4e2d\u7684\u4f7f\u7528",source:"@site/docs/useGetNowState/index.md",sourceDirName:"useGetNowState",slug:"/useGetNowState/",permalink:"/easyHooks/useGetNowState/",draft:!1,tags:[],version:"current",frontMatter:{title:"useGetNowState",sidebar_label:"useGetNowState"},sidebar:"defaultSidebar",previous:{title:"\u9996\u9875",permalink:"/easyHooks/"},next:{title:"useMount",permalink:"/easyHooks/useMount/"}},S={},g=[{value:"useGetNowState \u5728\u5b9a\u65f6\u5668\u4e2d\u7684\u4f7f\u7528",id:"usegetnowstate-\u5728\u5b9a\u65f6\u5668\u4e2d\u7684\u4f7f\u7528",level:3},{value:"useGetNowState \u5728 \u5ef6\u65f6\u5668\u4e2d\u4f7f\u7528",id:"usegetnowstate-\u5728-\u5ef6\u65f6\u5668\u4e2d\u4f7f\u7528",level:3},{value:"setState\u4f9d\u65e7\u652f\u6301\u63a5\u53d7\u51fd\u6570\u7684\u65b9\u5f0f\u4fee\u6539State",id:"setstate\u4f9d\u65e7\u652f\u6301\u63a5\u53d7\u51fd\u6570\u7684\u65b9\u5f0f\u4fee\u6539state",level:3},{value:"\u9677\u9631 \ud83d\udea9 \u4e0d\u8981\u5728\u6e32\u67d3\u671f\u95f4\u4f7f\u7528getState()",id:"\u9677\u9631--\u4e0d\u8981\u5728\u6e32\u67d3\u671f\u95f4\u4f7f\u7528getstate",level:3}],m=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.yg)("div",t)}},f=(m("IcePkgDemo_docs_useGetNowState_index_0"),m("IcePkgDemo_docs_useGetNowState_index_1"),m("IcePkgDemo_docs_useGetNowState_index_2"),{toc:g}),y="wrapper";function p(e){var t=e.components,l=(0,s.A)(e,i);return(0,a.yg)(y,(0,o.A)({},f,l,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h3",{id:"usegetnowstate-\u5728\u5b9a\u65f6\u5668\u4e2d\u7684\u4f7f\u7528"},"useGetNowState \u5728\u5b9a\u65f6\u5668\u4e2d\u7684\u4f7f\u7528"),(0,a.yg)("p",null,"useGetNowState \u5728 \u5bfc\u51fa\u7684 getState()\u59cb\u7ec8\u662f\u83b7\u53d6\u5230state\u6700\u65b0\u8bbe\u7f6e\u7684\u72b6\u6001,\u5b83\u662f\u540c\u6b65\u7684\u4f60\u53ef\u4ee5\u653e\u5fc3\u4f7f\u7528\u5b83\n\u5b9a\u65f6\u5668\u8bbe\u7f6estate\u6bcf\u79d2\u589e\u52a01;"),(0,a.yg)(u.A,{code:"import { useGetNowState,useMount } from 'easy-hooks';\nimport { useState } from \"react\";\nimport styles from './index.module.less';\n\nexport default function App () {\n    const  [state, setState,getState]  = useGetNowState(0);\n    useMount(()=>{\n      setInterval(()=>{ \n        setState(getState()+1);\n        // console.log(\"useGetNowState \u5728 \u5b9a\u65f6\u5668\u4e2d\u4f7f\u7528 getState()\u59cb\u7ec8\u662f\u83b7\u53d6\u5230state\u6700\u65b0\u8bbe\u7f6e\u7684\u72b6\u6001,\u5b83\u662f\u540c\u6b65\u7684\u4f60\u53ef\u4ee5\u653e\u5fc3\u4f7f\u7528\u5b83  getState--\x3e\",getState())\n      },1000)\n    });\n\n  return (\n    <div className={styles.usageContainer}>\n        state: {state}\n    </div>\n  )\n}",mobilePreview:!1,url:"/easyHooks/demos/IcePkgDemo_docs_useGetNowState_index_0/?",mdxType:"Previewer"},(0,a.yg)(r.A,{mdxType:"BrowserOnly"},(function(){var e=n(5749).A;return(0,a.yg)(e,{mdxType:"IcePkgDemo_docs_useGetNowState_index_0"})}))),(0,a.yg)("h3",{id:"usegetnowstate-\u5728-\u5ef6\u65f6\u5668\u4e2d\u4f7f\u7528"},"useGetNowState \u5728 \u5ef6\u65f6\u5668\u4e2d\u4f7f\u7528"),(0,a.yg)("p",null,"\u901a\u8fc7\u4e24\u6b21\u5ef6\u65f6\u7684\u65b9\u5f0f\u4fee\u6539state"),(0,a.yg)(u.A,{code:'import { useGetNowState,useMount } from \'easy-hooks\';\nimport { useState } from "react";\nimport styles from \'./index.module.less\';\n\nexport default function App () {\n    const  [state, setState,getState]  = useGetNowState(0);\n    const  [one,setOne] =useState("");\n    const  [two,setTwo] =useState("");\n\n    useMount(()=>{\n      setTimeout(() => {\n        setState(getState()+1);\n        // console.log("useGetNowState \u5728 \u5ef6\u65f6\u5668\u4e2d\u4f7f\u7528 getState()\u59cb\u7ec8\u662f\u83b7\u53d6\u5230state\u6700\u65b0\u8bbe\u7f6e\u7684\u72b6\u6001,\u5b83\u662f\u540c\u6b65\u7684\u4f60\u53ef\u4ee5\u653e\u5fc3\u4f7f\u7528\u5b83 \u5f53\u524d\u83b7\u53d6\u5230\u7684state\u5e94\u8be5\u662f1 getState--\x3e",getState())\n        setOne(getState())\n        setTimeout(() => {\n          setState(getState()+1);\n          // console.log("useGetNowState \u5728 \u5ef6\u65f6\u5668\u4e2d\u4f7f\u7528 getState()\u59cb\u7ec8\u662f\u83b7\u53d6\u5230state\u6700\u65b0\u8bbe\u7f6e\u7684\u72b6\u6001,\u5b83\u662f\u540c\u6b65\u7684\u4f60\u53ef\u4ee5\u653e\u5fc3\u4f7f\u7528\u5b83 \u5f53\u524d\u83b7\u53d6\u5230\u7684state\u5e94\u8be5\u662f2 getState--\x3e",getState())\n          setTwo(getState());\n        }, 1000);\n      }, 1000);\n    });\n\n  return (\n    <div className={styles.usageContainer}>\n        state: {state}<br/>\n        \u7b49\u5f851\u79d2<br/>\n        \u7b2c\u4e00\u6b21\u4fee\u6539\u540e\u7acb\u5373getState\u83b7\u53d6\u5230\u7684\u503c {one}<br/>\n        \u518d\u7b49\u5f851\u79d2<br/>\n        \u7b2c\u4e8c\u6b21\u4fee\u6539\u540e\u7acb\u5373getState\u83b7\u53d6\u5230\u7684\u503c {two}<br/>\n    </div>\n  )\n}',mobilePreview:!1,url:"/easyHooks/demos/IcePkgDemo_docs_useGetNowState_index_1/?",mdxType:"Previewer"},(0,a.yg)(r.A,{mdxType:"BrowserOnly"},(function(){var e=n(784).A;return(0,a.yg)(e,{mdxType:"IcePkgDemo_docs_useGetNowState_index_1"})}))),(0,a.yg)("h3",{id:"setstate\u4f9d\u65e7\u652f\u6301\u63a5\u53d7\u51fd\u6570\u7684\u65b9\u5f0f\u4fee\u6539state"},"setState\u4f9d\u65e7\u652f\u6301\u63a5\u53d7\u51fd\u6570\u7684\u65b9\u5f0f\u4fee\u6539State"),(0,a.yg)("p",null,"useGetNowState\u5bfc\u51fa\u7684 setState\u4f9d\u65e7\u652f\u6301\u63a5\u53d7\u51fd\u6570\u7684\u65b9\u5f0f\u4fee\u6539State\n\u5b9a\u65f6\u5668\u8bbe\u7f6estate\u6bcf\u79d2\u589e\u52a01;"),(0,a.yg)(u.A,{code:"import { useGetNowState,useMount } from 'easy-hooks';\nimport { useState } from \"react\";\nimport styles from './index.module.less';\n\nexport default function App () {\n    const  [state, setState,getState]  = useGetNowState(0);\n    useMount(()=>{\n      setInterval(()=>{ \n        setState((old)=>old+1);\n      },1000)\n    });\n\n  return (\n    <div className={styles.usageContainer}>\n        state: {state}\n    </div>\n  )\n}",mobilePreview:!1,url:"/easyHooks/demos/IcePkgDemo_docs_useGetNowState_index_2/?",mdxType:"Previewer"},(0,a.yg)(r.A,{mdxType:"BrowserOnly"},(function(){var e=n(1099).A;return(0,a.yg)(e,{mdxType:"IcePkgDemo_docs_useGetNowState_index_2"})}))),(0,a.yg)("h3",{id:"\u9677\u9631--\u4e0d\u8981\u5728\u6e32\u67d3\u671f\u95f4\u4f7f\u7528getstate"},"\u9677\u9631 \ud83d\udea9 \u4e0d\u8981\u5728\u6e32\u67d3\u671f\u95f4\u4f7f\u7528getState()"),(0,a.yg)("p",null,"\u672c\u8d28\u4e0a getState()\u662f ()=>ref.current; ",(0,a.yg)("br",null),"\n\u5177\u4f53\u539f\u56e0\u8bf7\u8bbf\u95ee\n",(0,a.yg)("a",{parentName:"p",href:"https://react.docschina.org/reference/react/useRef#"},"useRef")))}p.isMDXComponent=!0},6995:e=>{e.exports={}},6222:(e,t,n)=>{"use strict";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,s,a=[],r=!0,u=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(i){u=!0,s=i}finally{try{r||null==n.return||n.return()}finally{if(u)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{_:()=>s})}}]);